{"version":3,"sources":["../../../../../../apps/nevedelE/lib/env.ts","../../../../../../apps/nevedelE/app/layout.tsx"],"sourcesContent":["export type EnvCheck = { ok: boolean; missing: string[] };\n\nconst TRUE = new Set([\"1\", \"true\", \"yes\", \"on\", \"enabled\", \"y\", \"t\"]);\nconst FALSE = new Set([\"0\", \"false\", \"no\", \"off\", \"disabled\", \"n\", \"f\"]);\n\nfunction checkEnv(keys: string[]): EnvCheck {\n  const missing = keys.filter((k) => !(process.env[k] || \"\").trim());\n  return { ok: missing.length === 0, missing };\n}\n\nexport function getAppUrl() {\n  const fromPublic = (process.env.NEXT_PUBLIC_APP_URL || \"\").trim();\n  if (fromPublic) return fromPublic;\n\n  const vercelUrl = (process.env.VERCEL_URL || \"\").trim();\n  if (vercelUrl) return `https://${vercelUrl}`;\n\n  return \"http://localhost:3000\";\n}\n\nexport function isEnabled(key: string, fallback = false): boolean {\n  const raw = process.env[key];\n  if (raw == null) return fallback;\n\n  const value = String(raw).trim().toLowerCase();\n  if (TRUE.has(value)) return true;\n  if (FALSE.has(value)) return false;\n\n  return fallback;\n}\n\nexport function paymentsEnabled(): boolean {\n  return isEnabled(\"PAYMENTS_ENABLED\", false);\n}\n\n/**\n * Called from app/layout.tsx. Keep it non-fatal.\n * Returns a check object so callers can use `.ok` if they want.\n */\nexport function assertServerEnv(): EnvCheck {\n  // Put truly required server vars here if you want later.\n  // For now: no hard requirements.\n  return { ok: true, missing: [] };\n}\n\n/**\n * Used by Stripe routes/pages. MUST return `{ ok }` because callers do `const env = assertPaymentsEnv(); if (!env.ok) ...`\n */\nexport function assertPaymentsEnv(): EnvCheck {\n  if (!paymentsEnabled()) return { ok: true, missing: [] };\n\n  const required = [\n    \"STRIPE_SECRET_KEY\",\n    \"STRIPE_PRICE_ID\",\n    \"STRIPE_WEBHOOK_SECRET\",\n    \"STRIPE_PUBLISHABLE_KEY\"\n  ];\n\n  return checkEnv(required);\n}\n","import type { Metadata } from \"next\";\nimport { assertServerEnv } from \"../lib/env\";\nimport \"./globals.css\";\n\nassertServerEnv();\n\nexport const metadata: Metadata = {\n  title: \"nevedelE\",\n  description: \"Modern UI pre coso-system\",\n};\n\nexport default function RootLayout({ children }: { children: React.ReactNode }) {\n  return (\n    <html lang=\"sk\">\n      <body className=\"bg-neutral-950 text-neutral-100\" style={{ fontFamily: \"Inter, system-ui, Arial, sans-serif\" }}>\n        {children}\n      </body>\n    </html>\n  );\n}\n"],"names":[],"mappings":"uCAEA,IAAM,EAAO,IAAI,IAAI,CAAC,IAAK,OAAQ,MAAO,KAAM,UAAW,IAAK,IAAI,EAC9D,EAAQ,IAAI,IAAI,CAAC,IAAK,QAAS,KAAM,MAAO,WAAY,IAAK,IAAI,EA4BhE,SAAS,IACd,OAZK,AAYE,SAZO,AAAU,CAAW,CAAE,GAAW,CAAK,EACrD,IAAM,EAAM,QAAQ,GAAG,CAAC,EAAI,CAC5B,GAAW,MAAP,EAAa,OAAO,EAExB,IAAM,EAAQ,OAAO,GAAK,IAAI,GAAG,WAAW,SAC5C,EAAI,EAAK,GAAG,CAAC,KACT,EAAM,CADW,EACR,CAAC,IADc,AAGrB,CACT,EAGmB,CANK,OAAO,YAMQ,EACvC,CAMO,SAAS,IAGd,MAAO,CAAE,IAAI,EAAM,QAAS,EAAE,AAAC,CACjC,CAKO,SAAS,iBACd,AAAK,IAAD,CA1CK,GAAuB,IAAnB,CADP,EAAU,AA6CC,CACf,GAHsB,iBAItB,kBACA,wBACA,yBACD,CAlDoB,MAAM,CAAE,AAAD,GAAO,CAAC,CAAC,QAAQ,GAAG,CAAC,EAAE,EAAI,EAAA,CAAE,CAAE,IAAI,KAC1C,MAAM,CAAQ,WA0CJ,CAAE,IAAI,EAAM,QAAS,EAAE,AAAC,CAUzD,0HChDe,SAAS,EAAW,UAAE,CAAQ,CAAiC,EAC5E,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,KAAK,cACT,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,kCAAkC,MAAO,CAAE,WAAY,qCAAsC,WAC1G,KAIT,CAfA,CAAA,EAAA,AAHA,EAAA,CAAA,CAAA,OAGA,eAAA,AAAe,sCAEmB,CAChC,MAAO,WACP,YAAa,2BACf"}